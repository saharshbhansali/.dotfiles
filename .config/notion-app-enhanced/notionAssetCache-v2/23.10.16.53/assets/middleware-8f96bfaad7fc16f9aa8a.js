"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[826],{66170:(n,e,t)=>{t.r(e),t.d(e,{applyDestinationMiddleware:()=>u,sourceMiddlewarePlugin:()=>l});var r=t(70655),i=t(99306),a=t(67289),o=t(23888);function u(n,e,t){return(0,r.mG)(this,void 0,void 0,(function(){function i(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var i,u,l;return(0,r.Jh)(this,(function(s){switch(s.label){case 0:return i=!1,u=null,[4,(0,a.O)(t({payload:(0,o.D)(e,{clone:!0,traverse:!1}),integration:n,next:function(n){i=!0,null===n&&(u=null),n&&(u=n.obj)}}))];case 1:return s.sent(),i||null===u||((u=u).integrations=(0,r.pi)((0,r.pi)({},e.integrations),((l={})[n]=!1,l))),[2,u]}}))}))}var u,l,s,c;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:u=0,l=t,n.label=1;case 1:return u<l.length?(s=l[u],[4,i(e,s)]):[3,4];case 2:if(null===(c=n.sent()))return[2,null];e=c,n.label=3;case 3:return u++,[3,1];case 4:return[2,e]}}))}))}function l(n){function e(e){var t;return(0,r.mG)(this,void 0,void 0,(function(){var u;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return u=!1,[4,(0,a.O)(n({payload:(0,o.D)(e.event,{clone:!0,traverse:!1}),integrations:null!==(t=e.event.integrations)&&void 0!==t?t:{},next:function(n){u=!0,n&&(e.event=n.obj)}}))];case 1:if(r.sent(),!u)throw new i.Y({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,e]}}))}))}return{name:"Source Middleware "+n.name,type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:e,page:e,identify:e,alias:e,group:e}}}}]);